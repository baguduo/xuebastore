<div class="account-order container-fluid">
	<div class="row">
		<span class="col-md-2">
			大厅已开台：{{deskInfo.deskCount - deskInfo.deskLeft}}桌
		</span>
		<span class="col-md-2">
			大厅未开台：{{deskInfo.deskLeft}}桌
		</span>
		<span class="col-md-2">
            包间已用： {{deskInfo.parlorCount - deskInfo.parlorLeft}}间
        </span>
        <span class="col-md-2">
			包间剩余： {{deskInfo.parlorLeft}}间
		</span>
		<span class="col-md-2 col-md-offset-2">
			<button type="button" class="btn btn-default" data-toggle="modal" data-target="#founding">开台</button>
		</span>
	</div>
	<form class="form-inline account-form" novalidate name="queryByDeskNum" ng-submit="orderDetailEvent()">
		<div class="form-group">
			<label>查询桌号：</label>
			<input class="form-control" type="number" name="deskNum" ng-minlength='1' ng-model="deskNum" placeholder="餐桌号" required>
		</div>
		<div class="form-group">
			<button type="submit" class="btn btn-default">确定</button>
		</div>
		<div style="margin-left: 6em; margin-top: .5em; color: red;" ng-show="queryByDeskNum.deskNum.$dirty && queryByDeskNum.deskNum.$invalid">只能输入数字!</div>
	</form>
	<table class="table table-bordered">
		<tbody>
			<tr class="info">
				<td>餐桌号</td>
				<td>就餐人数</td>
				<td>总金额</td>
			</tr>
			<tr ng-repeat="item in deskList">
				<td><a ui-sref="account.detail({id: item.deskNum})">{{item.deskNum}}号</a></td>
				<td>{{item.repastNum}}</td>
				<td>{{item.totalAmount}}元</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="pagination-container">
	<div class="pagination"></div>
</div>

<div id="founding" class="modal fade order-modal">
<div class="modal-dialog" role="document" aria-labellebby="foundingLabel">
    <div class="modal-content">
        <div class="modal-body">
            <form class="form-horizontal" name="founding" novalidate>
                <div class="form-group">
                    <label class="col-md-4">餐桌号：</label>
                    <div class="col-md-8">
                        <input type="number" class="form-control" name="deskNum" ng-model='foundingData.deskNum' required>
                    </div>
                	<div class="col-md-offset-5 text-danger" ng-show="founding.deskNum.$dirty && founding.deskNum.$invalid">
                		餐桌号必须为数字！
                	</div>
                </div>
                <div class="form-group">
                    <label class="col-md-4">就餐人数：</label>
                    <div class="col-md-8">
                        <input type="number" class="form-control" name="repastNum" ng-model="foundingData.repastNum" required>
                    </div>
                	<div class="col-md-offset-5 text-danger" ng-show="founding.repastNum.$dirty && founding.repastNum.$invalid">
                		就餐人数必须为数字！
                	</div>
                </div>
                <div class="form-group">
                    <div class="col-md-8 col-md-offset-4">
                        <select class="form-control" name="isParlor" ng-model="foundingData.isParlor" required>
                            <option value='0' ng-selected="foundingData.isParlor == 0">大厅</option>
                            <option value='1' ng-selected="foundingData.isParlor == 1">包间</option>
                        </select>
                    </div>
                	<div class="col-md-offset-5 text-danger" ng-show="founding.isParlor.$dirty && founding.isParlor.$invalid">
                		必须选择一个类型！
                	</div>
                </div>
                <div class="form-group" ng-show="foundingData.isParlor == 1">
                    <label class="col-md-4">包间费：</label>
                    <div class="col-md-8">
                        <input type="number" class="form-control" name="parlorAmount" ng-model="foundingData.parlorAmount" required>
                    </div>
                    <div class="col-md-offset-5 text-danger" ng-show="founding.parlorAmount.$dirty && founding.parlorAmount.$invalid">
                        包间费必须为数字！
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <div class="modal-btn">
                <button type="button" class="btn btn-block btn-danger" ng-click="foundingEvent()">确认</button>
            </div>
        </div>
    </div>
</div>
</div>